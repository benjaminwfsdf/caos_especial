<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>CAOS â€” EdiciÃ³n Especial: Mente y CÃ³digo (2025)</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b0b0c">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CAOS Especial">

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=Rock+Salt&family=Comic+Neue:wght@700&display=swap"
    rel="stylesheet">

  <style>
    :root{
      --ink:#000; --paper:#fff; --shadow:8px 8px 0 var(--ink);
      --radius:18px; --pad:14px;
      --fz-title:clamp(22px,5.6vw,32px);
      --fz-body:clamp(14px,3.8vw,18px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      padding:env(safe-area-inset-top) env(safe-area-inset-right)
              calc(16px + env(safe-area-inset-bottom)) env(safe-area-inset-left);
      background:var(--paper); color:var(--ink);
      -webkit-tap-highlight-color:transparent;
      font-family:'Rock Salt',cursive; font-weight:700; text-shadow:0 0 1px var(--ink);
      min-height:100dvh;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    }

    /* === Splash igual al de estudiantes === */
    #splash{position:fixed; inset:0; z-index:99999;
      display:flex; align-items:center; justify-content:center;
      background:#fff;
      transition:opacity .35s ease, visibility .35s ease;}
    #splash.is-hidden{opacity:0; visibility:hidden; pointer-events:none;}
    .splash-wrap{display:flex; flex-direction:column; align-items:center;
      gap:20px; animation:splashIn 1200ms ease forwards;}
    .logo-card{width:210px; height:210px; background:#fff;
      border:4px solid #000; border-radius:26px; box-shadow:16px 16px 0 #000;
      display:grid; place-items:center; overflow:hidden;}
    .logo-bg{width:100%; height:100%;
      background-image:url("icons/icon-192.png");
      background-position:center; background-repeat:no-repeat;
      background-size:120% 120%;}
    .brand{font-family:'Rock Salt',cursive; font-size:32px; letter-spacing:1px;}
    @keyframes splashIn{
      0%{transform:translateY(6px) scale(.86); opacity:0;}
      45%{transform:translateY(0) scale(1.06); opacity:1;}
      70%{transform:translateY(0) scale(.98);}
      100%{transform:translateY(0) scale(1);}
    }

    /* === Carta y diseÃ±o principal === */
    .app{max-width:900px; margin:0 auto; display:grid; gap:18px; padding:16px;}
    .panel{background:var(--paper); border:3px solid var(--ink);
      border-radius:var(--radius); box-shadow:var(--shadow);
      padding:var(--pad); text-align:center;}
    .titulo{font-size:var(--fz-title); border:3px dashed var(--ink);
      border-radius:14px; padding:10px 12px; background:var(--paper);
      margin-bottom:10px;}
    .carta-wrap{perspective:1200px; width:100%; max-width:400px; margin:auto;}
    .carta{width:100%; aspect-ratio:3/4.2; position:relative;
      transform-style:preserve-3d;
      transition:transform .9s cubic-bezier(.4,.2,.3,1.2);
      cursor:pointer; border-radius:var(--radius);}
    .carta.is-flipped{transform:rotateY(180deg);}
    .cara{position:absolute; inset:0; border:3px solid var(--ink);
      border-radius:var(--radius); background:var(--paper);
      box-shadow:var(--shadow); backface-visibility:hidden; overflow:hidden;}
    .cara img{width:100%; height:100%; object-fit:contain; display:block;}
    .cara.back{transform:rotateY(180deg);}
    .nota{font-family:'Comic Neue',sans-serif; font-size:14px; font-weight:700; margin-top:8px;}
    .btn{display:inline-block; margin-top:14px; background:var(--paper);
      border:2px dashed var(--ink); box-shadow:3px 3px 0 var(--ink);
      border-radius:12px; padding:10px 16px;
      font-family:'Comic Neue',sans-serif; font-weight:700;
      cursor:pointer; transition:transform .15s;}
    .btn:hover{transform:scale(1.05);}
    .dedicatoria{font-family:'Comic Neue',sans-serif; font-size:var(--fz-body);
      font-weight:700; margin-top:20px; border:3px solid var(--ink);
      border-radius:14px; box-shadow:4px 4px 0 var(--ink);
      padding:0 12px; background:var(--paper); line-height:1.4;
      overflow:hidden; max-height:0;
      transition:max-height 1.4s ease, padding 1.4s ease;}
    .dedicatoria.mostrar{max-height:700px; padding:12px;}
    footer{font-family:'Comic Neue',sans-serif; font-size:12px; font-weight:700;
      margin:20px auto 0; opacity:.8; text-align:center;
      border:3px solid var(--ink); border-radius:14px;
      box-shadow:4px 4px 0 var(--ink);
      padding:10px 12px; max-width:600px; background:var(--paper);}
  </style>
</head>
<body>

  <!-- Splash -->
  <div id="splash" aria-hidden="true">
    <div class="splash-wrap">
      <div class="logo-card"><div class="logo-bg"></div></div>
      <div class="brand">CAOS Especial</div>
    </div>
  </div>

  <main class="app">
    <section class="panel">
      <h1 class="titulo">CAOS â€” EdiciÃ³n Especial<br>Mente y CÃ³digo (2025)</h1>

      <div class="carta-wrap" id="flipCard">
        <div class="carta">
          <div class="cara front"><img src="frente.png" alt="Carta Mente y CÃ³digo"></div>
          <div class="cara back"><img src="contracara.png" alt="Contracara CAOS 2025"></div>
        </div>
      </div>

      <div class="nota">âœ¨ Toca o haz clic para ver la carta por ambos lados.</div>
      <button class="btn" id="mostrarMensaje">ðŸ’¬ Ver mensaje</button>

      <div class="dedicatoria" id="dedicatoria">
        Profe Salvador:<br><br>
        Gracias por presentarme este proyecto y por incluirme en Ã©l.<br>
        MÃ¡s allÃ¡ de la programaciÃ³n o las cartas, me enseÃ±Ã³ lo que significa creer en una idea y llevarla a cabo con pasiÃ³n.<br>
        Admiro profundamente la forma en que enseÃ±a, no solo por su conocimiento, sino por los valores que transmite, su paciencia, y la manera en que logra ver el potencial en cada uno de nosotros.<br><br>
        Usted es una de esas personas que marcan una diferencia real â€” no solo en el aula, sino en la vida de quienes tenemos la suerte de aprender con usted.<br>
        Gracias por confiar, por inspirar y por ser un ejemplo a seguir.<br><br>
        â€” BenjamÃ­n GonzÃ¡lez ðŸ§ ðŸ’»
      </div>
    </section>
  </main>

  <footer>Â© 2025 CAOS â€” EdiciÃ³n Especial</footer>

  <script>
    const carta = document.querySelector('.carta');
    const dedicatoria = document.getElementById('dedicatoria');
    const botonMensaje = document.getElementById('mostrarMensaje');

    function toggleFlip(){carta.classList.toggle('is-flipped');}
    botonMensaje.addEventListener('click',()=>{
      dedicatoria.classList.toggle('mostrar');
      botonMensaje.textContent = dedicatoria.classList.contains('mostrar')
        ? "ðŸ’¬ Ocultar mensaje" : "ðŸ’¬ Ver mensaje";
    });
    document.getElementById('flipCard').addEventListener('click',toggleFlip);
    document.getElementById('flipCard').addEventListener('touchstart',toggleFlip);

    /* === Splash con mismo comportamiento que estudiantes === */
    (function(){
      const splash=document.getElementById('splash');
      const SPLASH_MIN_MS=1100, SPLASH_MAX_MS=2000;
      const start=performance.now(); let hidden=false;
      const hideSplash=()=>{
        if(hidden||!splash)return; hidden=true;
        splash.classList.add('is-hidden');
        setTimeout(()=>splash.remove(),500);
      };
      const scheduleHideRespectingMin=()=>{
        const elapsed=performance.now()-start;
        const wait=Math.max(SPLASH_MIN_MS-elapsed,0);
        setTimeout(hideSplash,wait);
      };
      if(document.readyState==='complete'||document.readyState==='interactive'){
        scheduleHideRespectingMin();
      }else{
        document.addEventListener('DOMContentLoaded',scheduleHideRespectingMin,{once:true});
      }
      if(document.fonts&&document.fonts.ready){
        document.fonts.ready.then(scheduleHideRespectingMin).catch(()=>{});
      }
      window.addEventListener('load',scheduleHideRespectingMin,{once:true});
      setTimeout(hideSplash,SPLASH_MAX_MS);
    })();

    /* === PWA === */
    if('serviceWorker' in navigator){
      window.addEventListener('load',()=>{
        navigator.serviceWorker.register('service-worker.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
